(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bfb1064"],{"1bba":function(t,e,n){},"6ef6":function(t,e,n){"use strict";var a=n("1bba"),o=n.n(a);o.a},eca8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"operation clearfix"},[n("div",{staticClass:"operationLeft"},[n("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommand}},[t._v("\n      操作\n        "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"delete"}},[t._v("删除")])],1)],1),t._v(" "),n("el-button-group",[n("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left"},on:{click:function(e){return t.refresh()}}},[t._v("刷新")])],1)],1),t._v(" "),n("div",{staticClass:"operationRight"},[n("el-button-group",[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.add}},[t._v("新增")])],1)],1)]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"id",label:"ID",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"广告名称","show-overflow-tooltip":""}}),t._v(" "),n("el-table-column",{attrs:{prop:"link",label:"广告链接"}}),t._v(" "),n("el-table-column",{attrs:{label:"广告类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("TEXT"===e.row.type?"图文":"链接"))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"显示类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1===e.row.clientType?"网页":"手机"))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"语言"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getlang(e.row.locale)))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"startTime",label:"广告开始时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"endTime",label:"广告结束时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"lastTime",label:"更新时间"}}),t._v(" "),n("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("SHOW"===e.row.status?"启用":"禁用"))]}}])}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.disabledData(e.row.id,e.row.status)}}},[t._v(t._s("SHOW"!==e.row.status?"启用":"禁用")+" ")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.editData(e.row.id)}}},[t._v("修改")]),t._v(" "),n("el-popconfirm",{attrs:{title:"确定删除该数据吗"},on:{onConfirm:function(n){return t.deleteData(e.row.id)}}},[n("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),t._v(" "),n("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.total,"current-page":t.pageNo},on:{"current-change":t.handleCurrentChange}})],1)},o=[],r=(n("8e6e"),n("456d"),n("bd86")),i=(n("ac6a"),n("f8ea")),l=n("9d83"),c=n("5f87");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"advertisingMange",data:function(){return{loading:!1,tableData:[],multipleSelection:[],pageNo:1,pageSize:10,total:0}},created:function(){this.getArticleByLocaleList()},mounted:function(){},methods:{getlang:function(t){var e=this.$store.state.advertising.localeArr,n="";return e.forEach((function(e){t===e.value&&(n=e.key)})),n},editData:function(t){this.$router.push({path:"/advertising-mange/operation",query:{id:t}})},refresh:function(){this.pageNo=1,this.getArticleByLocaleList()},add:function(){this.$router.push("/advertising-mange/operation")},deleteData:function(t){var e=this;Object(i["b"])({ids:t}).then((function(t){0===t.statusCode&&e.getArticleByLocaleList()}))},disabledData:function(t,e){var n=this;Object(i["d"])({articleIds:t},e).then((function(t){console.log(t),0===t.statusCode&&n.getArticleByLocaleList()}))},handleCurrentChange:function(t){this.pageNo=t,this.getArticleByLocaleList()},getArticleByLocaleList:function(t){var e=this;this.loading=!0;var n=this.pageNo,a=this.pageSize,o={pageNo:n,pageSize:a};"Object"===Object(c["c"])(t)&&(o=u({pageNo:n,pageSize:a},t)),Object(i["e"])(o).then((function(t){var n=t.content,a=t.total;e.tableData=n||[],e.total=a,e.loading=!1})).catch((function(){e.loading=!1}))},handleCommand:function(t){var e=this,n=this.multipleSelection,a=[];n.length>0?this.$confirm("确定要删除当前选中的数据吗？","删除",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){n.forEach((function(t){a.push(t.id)}));var t=a.join(",");e.deleteData(t)})).catch((function(t){})):this.$message({message:"请选择你要删除的文章",type:"warning"})},handleSelectionChange:function(t){this.multipleSelection=t}},components:{SearchList:l["a"]}},p=d,f=(n("6ef6"),n("2877")),b=Object(f["a"])(p,a,o,!1,null,"19c1922e",null);e["default"]=b.exports},f8ea:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return c}));var a=n("b775");function o(t){return Object(a["a"])({url:"admin/advertise",method:"get",data:t})}function r(t,e){return console.log(e),Object(a["a"])({url:"SHOW"===e?"admin/article/disable":"admin/article/enable",method:"post",data:t})}function i(t){return Object(a["a"])({url:"admin/advertise/delAdvertiseBatch",method:"post",data:t})}function l(t){return Object(a["a"])({url:"admin/advertise/detail",method:"get",data:t})}function c(t,e){return Object(a["a"])({url:"admin/advertise/".concat("add"===e?"addAdvertise":"updateADInfo"),method:"post",data:t})}}}]);